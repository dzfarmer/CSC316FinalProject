<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BMI Sleepy Seesaw (Samoyed Edition)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;800&display=swap" rel="stylesheet">
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <style>
    /* === 1. å…¨å±€å¡é€šå˜é‡å®šä¹‰ === */
    :root {
      --bg-cream: #fff9f0;      /* èƒŒæ™¯å¥¶æ²¹è‰² */
      --text-brown: #6b4226;    /* æ–‡å­—æš–æ£•è‰² */
      --outline-brown: #8c5e35; /* æè¾¹æ·±æ£•è‰² */
      --soft-pink: #ffcdd2;     /* æŸ”å’Œç²‰ */
      --soft-blue: #b3e5fc;     /* æŸ”å’Œè“ */
      --soft-green: #c8e6c9;    /* æŸ”å’Œç»¿ */
      --candy-shadow: 0 4px 0px rgba(140, 94, 53, 0.4); /* ç³–æœåšåº¦é˜´å½± */
    }

    body {
      font-family: 'Baloo 2', cursive, sans-serif;
      margin: 0;
      background-color: var(--bg-cream);
      background-image: radial-gradient(#f3e5d8 10%, transparent 10%);
      background-position: 0 0, 15px 15px;
      background-size: 30px 30px;
      color: var(--text-brown);
    }

    .wrap { max-width: 980px; margin: 0 auto; padding: 25px 16px; }

    /* === 2. æ ‡é¢˜æ¨ªå¹… === */
    .title-banner {
      display: flex; align-items: center; justify-content: center; gap: 15px;
      background: linear-gradient(180deg, #ffe4e1 0%, #ffc1cc 100%);
      padding: 15px 30px;
      border-radius: 50px;
      border: 4px solid var(--outline-brown);
      box-shadow: var(--candy-shadow);
      width: fit-content; margin: 10px auto 25px auto;
      transform: rotate(-1deg);
    }
    .title-banner h1 {
      margin: 0; font-size: 28px; font-weight: 800;
      color: var(--text-brown);
      text-shadow: 2px 2px 0px #fff;
    }
    .star { font-size: 24px; animation: twinkle 2s infinite ease-in-out; }
    @keyframes twinkle { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.6; transform: scale(1.2); }}

    /* === 3. æ§ä»¶æ ·å¼ === */
    .controls { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; margin: 20px 0 25px; justify-content: center;}
    .controls label { font-weight: 700; display: flex; align-items: center; gap: 8px; }

    .controls select {
      appearance: none; -webkit-appearance: none; -moz-appearance: none;
      padding: 10px 36px 10px 18px;
      font-family: inherit; font-size: 15px; font-weight: 700; color: var(--text-brown);
      cursor: pointer; background: #fff;
      border: 3px solid var(--outline-brown); border-radius: 25px;
      box-shadow: inset 0 -4px 0 rgba(0,0,0,0.1), var(--candy-shadow);
      transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .controls select:hover, .controls select:focus { transform: translateY(-3px) scale(1.02); background: #fffef5; }
    .controls label { position: relative; }
    .controls label::after {
      content: "â–¼"; position: absolute; right: 14px; top: 55%;
      transform: translateY(-50%); font-size: 12px; color: var(--outline-brown); pointer-events: none;
    }

    #resetLock {
      appearance: none; border: none; font-family: inherit; font-weight: 800; cursor: pointer;
      background: #ffecb3; color: var(--text-brown);
      border: 3px solid var(--outline-brown); border-radius: 30px;
      padding: 10px 20px;
      box-shadow: inset 0 -4px 0 rgba(0,0,0,0.1), var(--candy-shadow);
      transition: all 0.3s;
      display: flex; align-items: center; gap: 6px;
    }
    #resetLock:hover { transform: translateY(-4px) rotate(-2deg); background: #fff7d1; }
    #resetLock:active { transform: scale(0.95) translateY(2px); box-shadow: inset 0 2px 0 rgba(0,0,0,0.1), 0 1px 0 rgba(140, 94, 53, 0.4); }

    /* === 4. å›¾ä¾‹ä¸æç¤º === */
    .legend { display: flex; gap: 15px; align-items: center; justify-content: center; flex-wrap: wrap; margin: 20px 0 0; }
    .leg-item { display: flex; gap: 8px; align-items: center; cursor: pointer; user-select: none; font-weight: 700;
      background: #fff; padding: 6px 12px; border-radius: 20px; border: 2px solid var(--outline-brown);
      box-shadow: 2px 2px 0 var(--candy-shadow); transition: 0.2s;
    }
    .leg-item:hover { transform: translateY(-2px); }
    .swatch { width: 18px; height: 18px; border-radius: 6px; border: 2px solid var(--outline-brown); }
    .hint { text-align: center; color: var(--text-brown); font-size: 14px; margin-top: 15px; line-height: 1.4; font-weight: 600;}

    /* === 5. D3 å›¾è¡¨æ ·å¼ === */
    .axis path, .axis line { stroke: var(--outline-brown); stroke-width: 3px; stroke-linecap: round; }
    .axis text { font-size: 14px; font-weight: 700; fill: var(--text-brown); }
    .row-label { font-size: 16px; font-weight: 800; fill: var(--text-brown); }
    .pct-text { font-size: 14px; font-weight: 800; fill: var(--text-brown); pointer-events: none;
      text-shadow: 2px 2px 0px #fff, -1px -1px 0px #fff;
    }
    .tooltip {
      position: fixed; left: 0; top: 0; transform: translate(-9999px, -9999px);
      background: #fff; color: var(--text-brown); padding: 12px 16px; border-radius: 16px;
      font-size: 13px; pointer-events: none; max-width: 260px; z-index: 10;
      border: 3px solid var(--outline-brown); box-shadow: var(--candy-shadow); font-weight: 600;
    }
  </style>
</head>
<body>
<div class="wrap">
  <div class="title-banner">
    <span class="star">âœ¨</span>
    <h1>BMI Sleepy Seesaw</h1>
    <span class="star">âœ¨</span>
  </div>

  <div class="controls">
    <label>ğŸŒ™ Sleep:
      <select id="sleepMeasure">
        <option value="sleep_hours_weekday">Weekday</option>
        <option value="sleep_hours_weekend">Weekend</option>
        <option value="sleep_hours_weekly_avg" selected>Weekly avg</option>
      </select>
    </label>

    <label>ğŸ‘¤ Sex:
      <select id="sexFilter">
        <option value="all" selected>All</option>
        <option value="1">Male</option>
        <option value="2">Female</option>
      </select>
    </label>

    <label>ğŸ’° Poverty:
      <select id="povFilter">
        <option value="all" selected>All</option>
        <option value="1">â‰¤130% FPL</option>
        <option value="2">130â€“185% FPL</option>
        <option value="3">>185% FPL</option>
      </select>
    </label>

    <button id="resetLock">ğŸ”„ Reset lock</button>
  </div>

  <div id="chart"></div>
  <div class="legend" id="legend"></div>

  <div class="hint">
     Click a BMI row to <b>lock</b> it! Click legend items to <b>filter</b> them!
  </div>
</div>

<div class="tooltip" id="tooltip"></div>

<script>
  // ====== CONFIG ======
  const DATA_PATH = "project.csv";

  const buckets = [
    { key: "short", label: "Short (<7h)",    color: "#ff8a80" },
    { key: "just",  label: "Just right (7â€“9h)", color: "#81c784" },
    { key: "long",  label: "Long (>9h)",     color: "#64b5f6" }
  ];

  const bmiCats = [
    { key: "Healthy",    test: b => b >= 18.5 && b < 25 },
    { key: "Overweight", test: b => b >= 25 && b < 30 },
    { key: "Obese",      test: b => b >= 30 }
  ];

  let activeBuckets = new Set(buckets.map(d => d.key));
  let lockedRow = null;

  // ====== SVG SETUP ======
  const margin = { top: 30, right: 30, bottom: 50, left: 190 };
  const width = 960;
  const height = 300;
  const innerW = width - margin.left - margin.right;
  const innerH = height - margin.top - margin.bottom;

  const svg = d3.select("#chart").append("svg")
    .attr("viewBox", `0 0 ${width} ${height}`)
    .attr("width", "100%")
    .attr("height", "auto")
    .style("background", "#fffef9")
    .style("border-radius", "30px")
    .style("border", "4px solid #8c5e35")
    .style("box-shadow", "0 6px 0 rgba(140, 94, 53, 0.2)");

  // === 1. å®šä¹‰æ»¤é•œ å’Œ å›¾æ ‡ (Defs) ===
  const defs = svg.append("defs");

  // A. å¡é€šæŠ•å½±æ»¤é•œ
  const filter = defs.append("filter").attr("id", "cartoonShadow").attr("height", "200%");
  filter.append("feGaussianBlur").attr("in", "SourceAlpha").attr("stdDeviation", 3).attr("result", "blur");
  filter.append("feFlood").attr("flood-color", "#8c5e35").attr("flood-opacity", "0.4").attr("result", "color");
  filter.append("feComposite").attr("in", "color").attr("in2", "blur").attr("operator", "in").attr("result", "coloredBlur");
  filter.append("feOffset").attr("in", "coloredBlur").attr("dx", 2).attr("dy", 4).attr("result", "offsetBlur");
  const feMerge = filter.append("feMerge");
  feMerge.append("feMergeNode").attr("in", "offsetBlur");
  feMerge.append("feMergeNode").attr("in", "SourceGraphic");

  // B. è¨æ‘©è€¶å›¾æ ‡ (Samoyed Icon) - PIXEL ART VERSION
  const samoyed = defs.append("g").attr("id", "samoyed-icon");
  
  // å·¨å¤§çš„SVGå­—ç¬¦ä¸²æ”¾åœ¨è¿™é‡Œ
  const samoyedSVGContent = `
    <path transform="translate(0)" d="m0 0h1516v1600h-1516z" fill="#FDFDFD"/>
    <path transform="translate(940,342)" d="m0 0h18l11 1 11 4 1 3 5 1 1 3 5 1 4 3v2l5 2 5 5 1 7 8 11 8 16 2 11v21l-2 4-2 9-5 10-4 6-5 5 1 4 4 6 4 3 4 9 6 12v3h2l3 12 4 10 4 8 3 10 3 24 1 17v12l-1 4 1 1v14l-5 1-4 4h6l1 9-9 21-4 4-3 2-3 18-12 22-3 3h-2l-2 5h-2l-1 5-4 5-1 2 10 3 9 5v2l5 2 5 4 5 1 5 3 5 5 3 5 9 5 13 12 7 7 1 4 5 3 5 6 8 7 11 13 12 16 14 22 10 19 7 18 4 17v25l-3 17-5 13-9 14-4 5-10 8-10 6-7 3-12 3h-14l-20-4-5 1-4 7-1 6h-2l-3 9-9 13-2 7 6 2 15 3 22 1 8 2 9 3 10 4 1 6 3 2v2l5 1 1-2 8 6 4 6 4 10 5 11v42l-2 4-1 13-6 15-4 6-7 10-3 5-2 5-6 7-7 8-5 5-7 6-5 6-11 8-6 7-9 6-11 4-9 4-15 4-8 4-6 2-20 3h-31l-20-4-12-7-9-3-11-7-13-10-12-11-9-9-9-13-4-8-1-6-15 3v2l-5 1-42 2-9 5-12 1h-22l-4-2h-15l-8 7-19 19-7 6-3 7-8 11-13 10-16 8-14 5-1 1-14 3-18 4-8 1h-32l-7-1-5-3v-3l-3 1-3 3h-9l-2-1-9-1-8-5-9-6-6-8-11-8-10-9-8-11-14-15-8-10-9-17-6-17-2-11v-12l-1-3v-9l3-17 6-13 5-9 3-7 12-12 15-9 12-3 20-7v-14l-3-20-1-11-9 2-1 1-29 3-10-2-11-6-10-2-7-4v-2l-4-1-3-3v-3l-4-2-7-7-3-4-6-12v-6l-3-1-4-8-1-8 2-21v-10l3-14 6-15 8-16 9-17 9-11 5-4 5-5 10-9 11-9 4-5 11-8 8-6 9-6 8-6 20-11 12-3 11-7 5-1h3l-1-6-8-7-8-9-11-14-1-3h-2l-5-12-3-10-2-9-5-10-2-9h-2l-6-17-2-6v-32l6-20 6-22 4-15 5-9-4-1-5-5-9-6-12-10-5-10-5-22v-29l4-16 8-12 6-8 10-8 11-9 10-7 10-5 10-1h24l13 1 14 4 8 6 4 5 4 2v2h3l1 2 7 2 2 2 5-1 11-4 14-8 19-10 16-5 13-3 16-4 16-2 37-2 8-2 10-1h19l14 2 2 1 11 1 10 3 4 3 7 2v3l5-2h2l2-5 5-9 9-12 9-11 8-7 10-4 7-4 20-1z" fill="#CDA187"/>
    <path transform="translate(622,103)" d="m0 0h18l15 2 6 2 9 2 11 8 9 10 12 16 3 3 8-9 14-11 12-5 12-3 8-1h24l11 4 8 6 7 7 10 15 5 14 1 5v12l-3 16-9 19-12 19-15 16-10 10-10 7-8 8-13 9-16 9-17 10-16 8-8 2h-8l-16-8-22-16-12-11-7-6-10-13-7-8-13-17-11-19-7-17-5-19v-21l4-12 7-14 6-8 9-10 11-7 9-3z" fill="#F4CCD7"/>
    <path transform="translate(1334,654)" d="m0 0h17l11 4 10 7 8 8 8 14 3 10v15l-4 10-4 6-5 6-9 6-8 6-10 6-2 4 8 9 11 9 9 11 4 10v15l-3 14-6 14-9 10-8 6-11 5-6 2-7 1h-9l-11-2-11-6-20-8-9-4-14-9-11-8-14-11-13-11-9-10-7-9v-3h-2v-3h-2l-6-10-3-3v-3h-2l-6-11v-13l9-16 12-13 11-10 13-10 6-4 4-3 9-4 5-3 10-5 10-4 8-4 20-5 9-1h12l3-1z" fill="#F4CBD6"/>
    <path transform="translate(192,965)" d="m0 0h32l24 4 19 5 22 8 20 9 12 7 11 10 1 2v18l-7 24-7 16-8 14-10 13-7 11-14 17-13 13-13 10-13 8-14 6-11 2h-9l-14-2-12-5-9-6-7-7-6-10-2-8v-14l4-16 5-12v-2l-13-7-12-9-11-10-6-10-3-8v-15l3-10 5-9 8-10 9-9 13-8 10-5 7-3z" fill="#F4CCD7"/>
    <path transform="translate(318,508)" d="m0 0h26l3 1v2l8 1 2 1v2l8 2v2l5 2 6 7 5 5 4 9 3 5 3 3 1 5h2l5 12 4 14 3 15 1 7 1 29-2 21-1 1-2 9-3 7-5 4-4 4-11 4-14 3-9 3-21 3-13 1h-21l-7-1v-2h-8l-24-6-15-6v-2l-5-1-3-2v-3l-5-1v-2l-4-2-7-7-6-11-3-11v-14l1-1 3-17 1-2h2v-3h2l1-5 3-4h2v-2h3l1-3 8-3 4-4h9v-2h12v-2l23-1v-35h2v-6l2-4h2l1-4 7-7 4-2 3-3z" fill="#F0A5BD"/>
    <path transform="translate(1288,978)" d="m0 0h9l10 2v2l8 1 13 8 7 8 4 6v5h2l2 10-1 23 2 2 11-1 7-4h9l11 2 1 2 11 3 3 3 5 2 7 8 5 11 1 3v8l-2 8-5 14-2 8h-2v5h-2v3h-2v3h-2v3l-4 1-2 4h-2l-1 4-4 3-3 1-5 5-6 4h-3v2l-11 5-8 1v2l-9 3-13 2h-26l-19-2-12-1v-2h-10l-5-2-9-2-7-4-4-4-6-18v-65h2v-14h2l2-10 2-9 4-9 2-1 2-6h2v-3h2l1-4 6-4 6-9 6-7 10-6h5v-2z" fill="#F0A5BD"/>
    <path transform="translate(784,571)" d="m0 0h24l16 1 10 3 9 3 14 9 1 4 4 2 5 3 1 7 8 16 2 7v12l1 9-1 11-2 8-3 7-1 2v5l-4 5h-4l-2 5-7 8-9 8-11 4-5 8-7-1-1-3-18 8-10 5-9 2-3 3-4 2-1-3-6-1-13 2-5-6-2 1 3 3v2l-6-1-4-1-4-5h-4v-2l-7 1-7-2-12-1v-2l-2-1v-5l5 2v-2l-3-1-4-5-1-3-9-5 1-8v-3l-8-6-1-5-2-2v-6h3v-4l-4-1v6h-2v-9l4-8 2-12 3-8-2-2 1-4 3-5 4-7 5-5 2-3h2l2-4 3-4h2v-2h2l1-3 9-3 16-8 8-1 6-5 5-1 6-2h8z" fill="#E2C1A9"/>
    <path transform="translate(1137,219)" d="m0 0h23l9 4 10 3 8 6 6 5 8 16 2 8 4 3 33 1 9 3 4 2 5 5 4 5v3h2l6 15 2 12v12l-4 15-1 3h-2v3l-2 1-4 8-3 3-5 3-4 4h-3v2l-9 4h-2v2l-8 4-16 6-9 2-1 1-7 1-1 1-21 3h-25l-22-4-4-2v-2l-4-1-10-10-5-12-3-17-1-12v-30l2-27 3-9 5-17 1-3h2l1-4 2-1 2-4 6-5h3v-2h3v-2h3v-2z" fill="#F0A5BD"/>
    <path transform="translate(357,1230)" d="m0 0h15v2l8 1 10 6 6 5v2l5 2 9 9 4 8 3 3 7 14 1 7h2l4 17 3 9 5 20 1 6v8l-2 9-1 1-2 9-4 11-12 11-11 5-9 3h-9v2l-7 1h-11v2l-5 1-21 1-16-1v-2l-9-1-13-4-10-5-7-3-2-1v-2l-4-1-7-8-4-3-3-6-2-1-1-6h-2l-2-7v-24l5-15 7-8 9-5 4-1h16l17 1v-8l-2-2v-30l3-9 1-2h2v-3l3-3 3-5 9-4h2v-2h5v-2z" fill="#F0A5BD"/>
    <path transform="translate(743,1313)" d="m0 0 10 1 12 5 10 9 8 11 11 18 8 17 4 16v15l-4 10-8 10-14 9-4 2h-13l-13-5-10-5-4-8-4-4-5 1-6 7-5 6-6 3h-21l-11-3-9-5-5-4-6-10-2-7v-20l13-26 10-10 15-10 17-10 19-9z" fill="#F4CCD7"/>
    <path transform="translate(538,1121)" d="m0 0h11l15 2 6 2 10 6v2h5l10 7 9 7 10 6 2 6 4 2 13 13 4 9 3 3v6h-2v5l2 2 1-2h2l1 16 1 4-3 10-3 5-4 2-3 4h-2l-1 2h-2v3h-2v2l-9 5-12 3-1 1h-8l-7-1-2-1h-6l-17-8-3-3-7-4-6-6h-4l-3-6h-5l-1-2-4-2-1-5-4-2-1-5-2-1 1-6-4-2-1-10-3-5-3-7-2-3v-9l2-6-2-10 1-5 4-4 2-4 4-4 1-2h2l2-4 5-1 3-4z" fill="#B4896D"/>
    <path transform="translate(1029,1105)" d="m0 0 4 3 1 1 2-4 4 2 5 3 4-1 3 3 8 2 6 12 4 11 2 10 2 9-1 8-3 3 2 3 2-5h2l-1 9-1 3h-3v2l-3 1-2 6-8 4-9 5-1 5-6 5-9 5-1 2-16 4-8 5-3-8 1-5 3h-11l-4 1-7-3-7-1-1 7h-3v-6h-3l-5-6-4-2-2-2-5-2-2-2-4-2 1-5 1-2h2v-7l-2-4-3-3 1-4h2l2-10h-4v-8l6-3 2-3h8l3-5 3-1 2-6h3v-2l7-2 1-5 5-7 8-5 4-1 4-3 2-6h4l7-8 12-4h15z" fill="#B4896D"/>
    <path transform="translate(1107,1287)" d="m0 0h10l10 3 7 6 4 7 3 12-1 21 20-1 9 4 4 3v2l4 1 6 6 1 3v15l-5 9-12 12-12 6-10 3-16 3-37 5-16-1-10-3-8-6-2-5v-28l6-23h2l2-10 8-16 7-11 5-6 11-7z" fill="#F0A5BD"/>
    <path transform="translate(940,342)" d="m0 0h18l11 1 11 4 1 3 5 1 1 3 5 1 4 3v2l5 2 5 5 1 7 8 11 8 16 2 11v21l-2 4-2 9-5 10-4 6-5 5 1 4 4 6 4 3 4 9 6 12v3h2l3 12 4 10 4 8 3 10 3 24 1 17v12l-1 4 1 1v14l-5 1-4 4h6l1 9-9 21-4 4-3 2-3 18-12 22-3 3h-2l-2 5h-2l-1 5h-1l1-11h2l1-5 2-4h3v-2h4l1-4-2-1 2-2v-4h-2v2l-5 1-1 2-6-1-3-3 1-6 3-3 3-1-1-6h2v2h3v2l4 1 4 4 1-8-1-3-3-1-3-4v-7l-6-2-4-1-1-7h-6l-2-1v-3l4-3h3l1-4 4-1 5 2 1-6-2-6h-7l2-4 5-4h6l3 2h2l2-7 3-5-1-6-2-1-3-5-7 1-5-9-2-6-4-10-4 2-5-1 2-5 2-1 1-6-1-3 4-5 3-1 2-10v-9l-2-7-2-5-1-3h-2l-4-8-10-5-1-3 1-5h2v-6l-2-1-1 6h-2l-1 5h-1l-1-7h2l1-12 3-4 1-6 3-4 3-7 2-3-1-4 3-4 3-8 1-1-1-7-2-9-3-16-1-4h-2v-4h-2v-2l-3 1-4-3v-3h2v-7l1-2h2l3-11 1-3-5-2-9-6-4-2-8 1-7-1-3-2-12-2-2-2-3 1-3 7-3 3h-2v2l-7-1-3-8-4-3 1-1 20-1z" fill="#E2C1A9"/>
    <path transform="translate(425,287)" d="m0 0h11l11 5 6 7 6 13 1 5v16l-2 12-1 3h-2l-1 9-3 6-3 3-3 7-4 6-5 5h-2v2h-2l-2 5-9 9h-19l-4-1v-2l-10-2-5-4-6-3v-2l-9-3v-2h-3v-2h-3v-2l-6-2-5-5-9-8-3-3v-3h-2l-4-8v-4h-2l-2-4v-13l6-11 5-4 9-4 9-1h17l7 2 5 6 3 2 4-1 3-1v-3h2l1-5 9-10 4-4h3v-2l4-2h5z" fill="#F0A6BD"/>
    <path transform="translate(294,789)" d="m0 0h7l10 4 10 8 7 11 3 11 2 21v9l-3 14-7 16-2 3h-2l-1 4-3 1-1 3-9 5-4 1h-13l-17-4-20-7-9-5-6-2v-2l-6-2-7-6-1-4h-2v-3h-2l-3-13v-8l5-10 4-5 9-4 4-1h16l10 2 1-7 7-14 11-11 8-4z" fill="#F0A5BD"/>
    <path transform="translate(1205,485)" d="m0 0h10l10 3 8 9 3 8v21l-1 3 5-1h14l12 3 4 2v2l4 1 6 7 2 6v9l-8 17-5 6-10 7-18 8-7 2h-25l-18-2-10-4-6-7-5-12-1-6v-14l2-14 5-21h2v-7l1-2h2v-5l7-9 8-6z" fill="#F0A5BD"/>
    <path transform="translate(776,987)" d="m0 0 3 1v6l1 2v7l-1 4v11l-1 7 4 8 1 1 1 8 2 2 8 2-1 8h6l1 8h2l1 5-3 9v5l4 3 5-2h5l3 3 1 3 6 3 2 14-3 6-5 4-7 2h2v5l-4 1-2-1-6 15-1 3-3 1-4 4h-6l-4 2-2-1v-5-4l1-8 7-8-1-8-5-3-1-1-2-10h-14v-2h-18l-2-2-6-1-3-2v-2l-5-2-2-1v2l-6 1 2-1-1-8-1-2v-3l2-4-1-5-8-1v-2l-3-1 2-4 6-4 1-5 4-2v-3l5-2v-2h2l2-4 6-10 6-9 2-5h2l2-4 4-5 1-4-1-7 1-3h3l1-2 3 2z" fill="#B58A6E"/>
    <path transform="translate(192,965)" d="m0 0h32l24 4 19 5 22 8 20 9 12 7 11 10 1 2v18l-4 14-2-3 1-18-2-10-2-3-14-1-2-2-4-1v2l-3 3-1 9 5 4-1 7-4 5-7-2-1-4-8 3-3 4-4 11-2 9-1 5 2 1 1 4-2 2-5 2-3 1-2-1-2-10v-6h-2l-2-15-6-8-5-5h-5l-5-8-8-4-5-5-9-4-3-7-1-9-2-7h-3l-4-4-2-1v-2h-3l-1-4h-4l-2 4-4 1-10-3-8 4-9 3-6 3-5 4-5 6-7 6-5 5-4 2 2-4 7-9 9-9 13-8 10-5 7-3z" fill="#F8D8DE"/>
    <path transform="translate(1141,866)" d="m0 0 2 2 6 18 2 11v24l-3 17-5 13-9 14-4 5-10 8-10 6-7 3-12 3h-14l-20-4-3-2 1-7 3-1-2-9v-8l5-3 1 4h2l3 12 3 2 3-3h2v-2l4-4 3-9 14-5 4-6-1-2-7-2-6-3 1-5 4-10 2-6v-5l3-3 5-1 3-5 1-7 3-3h3l1-3 9-3 2 2 3-2 10-1 3-1v-5l-3-4 3-5 1-4z" fill="#E2C1A9"/>
    <path transform="translate(1334,654)" d="m0 0h17l11 4 10 7 8 8 8 14 3 10v15l-4 10-4 6-2 1v-7l-4 1-7-1-5 1-14-4-14-1-5-4-5-3-3-7-4 2-4 1-8-9-1-7-1-2 5-8 1-4h-9l-9 3h-4v-7l-13 1-5 2-8 6h-3v-2l-7 1v-2l-6-2 3-2 10-5 10-4 8-4 20-5 9-1h12l3-1z" fill="#F8D8DE"/>
    <path transform="translate(735,178)" d="m0 0 3 1-1 6 5-1h7l4 5 1 4-2 2-8 3-3 3h-3l-1 10 1 8-3 6-11 4-3 1-3 9-2 5-3 12-3 5h-4l-1 6-7 3-5 4-8 12-10-6-2-13-4-6-4-5-2-5-13-5 3-15h2l-1-8-7-3-1-2-1-11h2l2 5 4 1 9-3 1-1 14-1 1 3 6-1 5-4 5-5 3 1 3 11v2l3-1 5-10v-5l-1-2 1-4h2l1-5 1 2v7l10-1 4-4-1-2 2-5h2l3-5h3z" fill="#F0A5BD"/>
    <path transform="translate(903,213)" d="m0 0h14l14 6 10 9 1 1 14 1 13 5 5 6 1 2v15l-4 7-9 8-12 7-20 8-9 3h-8l-7-4-9-12-4-8-3-13v-22l3-10 4-6z" fill="#F0A5BD"/>
    <path transform="translate(542,431)" d="m0 0 9 1 4 5 7 1h4l-3 3 1 3h10l-1 7 4 2 7 10-1 7h-2l-2 5-7 8-3 3-2 1-3 7-4 3-1 7-4 1-2 5h-2v2h-4l-9 5h-2l-6 1v-2l-7-2-5-5-2-6-4-7-2-6-2-4v-13l3-6v-6l5-9h2l1-5 8-7 1-2 5 2 3-1 1-5 5-1z" fill="#B4896D"/>
    <path transform="translate(454,1181)" d="m0 0 4 1 2 4 6 2 3-1 9 2 7 5 4 8v3l3 1 7 7 4 1v2l5 2 1 2 5 2 1 9-3 8-2 4 7 13 6 5 8 3 7-1 2 3h8l6-4 4 1v2l6-1 4-1 13-1 1-3 7-3 5-1-1 7 2 2 7 2 5-1 7-2 13-1 4-2 4-1 4-4 4-8 5-3 8-1 5-5 5-6 3-6 1-9 3-3 9-5 5 2-5 4-1 9 1 6h6l3-6 4 1-2 1-3 7-8 11-13 10-16 8-14 5-1 1-14 3-18 4-8 1h-32l-7-1-5-3v-3l-3 1-3 3h-9l-2-1-9-1-8-5-9-6-6-8-11-8-10-9-8-11-12-13-1-4-3-5-1-4-1-6v-2h-2l-2-5z" fill="#E2C1A9"/>
    <path transform="translate(448,826)" d="m0 0 1 3h2v11l1 4-2 5h-2l1 5v3l5 1v2l-2 1-1 2h-4l-1 4h-4l-5-1-2 10h-2l-1 5-3 3v2h-2l-1 3h-2v3l-3 1-1 2h-3v2l-8 2h-5l-2 7v4h-2l2 6 1-5 3-1 1 5-5 6h-2v15l4 2 2 5-1 2 2 1-4 4 3 2 1 13 3 1 4 4 4 1v2h2l4 5 2 3 5 1-1 4 5 1v2l4 1 5 1h2l1-4 7-3 1 3 5-1 2-4 4-2 2 7 4-1 1-2 5-2 1-2h2l1-3 3 2 1-5 3-3 2-1 1-4 3 1-1 6-3 3v6l2 4 2-5h6v2l3 1-1 2h2l1 9 1 3v6l2 3-1 3v-2l-9 2-1 1-29 3-10-2-11-6-10-2-7-4v-2l-4-1-3-3v-3l-4-2-7-7-3-4-6-12v-6l-3-1-4-8-1-8 2-21v-10l3-14 6-15 8-16 9-17 9-11 5-4 5-5z" fill="#E2C1A9"/>
    <path transform="translate(946,377)" d="m0 0 20 2 1 3-7-1 1 1v3l6 1 2 5 5-3 3 3v4l2 1 1-3 4 1 2 1v6l1 2h3l1 8v2l4 11-1 4-4-2 1-3-4 1v8l1 3-6 8-5 5-10 8-6-1-10-10-4-8-11-10-10-5-5-2-3-7-4-1v-2l-4-1-1-4 3-6 7-8h2v-2l6-1v-2l8-3 1-4 5-1z" fill="#B4896D"/>
    <path transform="translate(561,943)" d="m0 0 3 1h-2l2 2 3-1 2 3 4 2-1 2 3-1 3 2-1 5 1 3 4 1-1 2 4 1-1 7 2-3 5 1 2-4 3-5h3v7l-8 4 2 2-1 5h3l-2 6-3-1-1-4-1 2-5 1v4h-2l-1 9h-3l-2 5h-3l-1 6 2 1-3 3-2-1-2 4h-3l-1-2h-2l-1 6 5 1v-2h2l-1 9v4l-1 4-7 1-2 4-4 1 4 5 1 6-5-2v-2l-4 1-5-1-1-7-4-4v-11l-2-2-5 1-2-1-1-5h5v-2l4 1 3-1 2-8v2l2-1 1-4-4 1v-2h-2l-1-6v-7l-1-1v-9l1-4h2l1-6 1-2-2-1 3-3 3-6-1-2-1 2-4 1-1-4 1-5h3l1 1 2 1 1 1v-4l12-2z" fill="#B58A6E"/>
    <path transform="translate(780,585)" d="m0 0h6l9 3 4-1 4 1h2v2l4-1 7 4 1 9v5l-1 2v6l-2 3-3 1-1 5h-4v3l-12 5-5 2-6 1-6 2h-9l-7-3-10-2-8-6-3-8-1-9 6-9 6-4 6-2 2 1v-2l7-4h7l5-1v-2z" fill="#5E432D"/>
    <path transform="translate(1058,1035)" d="m0 0h16l8 2 9 3 10 4 1 6 3 2v2l5 1 1-2 8 6 4 6 4 10 5 11v42l-2 4-1 13-6 15-4 6-7 10-3 5-2 4v-4h-4l-1-10h-2l-4-13-1-4 4-2 9 1 8-7h5l2-5 4-7v-8l-4-6-5-4-5-2v-2l-6 1 2-1 1-11-2-8 1-4-3-5-1-11-4-5-5-1-5 4-1-3-9-2-5-7-2-6-1-7-6-1-2 3v2l-6-2-1-1v-8l-2-1 2-2z" fill="#E2C1A9"/>
    <path transform="translate(734,1160)" d="m0 0h9l4 6 2 7 5 2 1 3 6 2 2-1 3 1v6l3 3 4 3v2l4-1 3 2-12 1h-22l-4-2h-15l-8 7-19 19-4 3-5-4 2-5 7-5 2-7 1-10h-2l-1-11h2l1-6 5-3h10l4-5 8-5z" fill="#E2C1A9"/>
    <path transform="translate(572,849)" d="m0 0 5 2-2 6 1 7 2-2 3-5 1 3 2 1 1 3h5l-1 5h-8l-5 4v-3l-9 2 1 1h4l1 5-2 2h-3l-2 1-2-1v-5l-1 3h-2l-1 2h-2l-8 11-2 9 2 1-2 3 2 1 1 1 1 3h-3v3h-4v-3h-2v9l-4 5v7l-3 3h-2l1-4-1-2-2-1h3v-2l-6 2-1 2 4 1-1 7 3 2-2 4-2 1-1-2-2 3 1 3-5 5-1 6-2 4 2 1 1 1 6-18 2-1-1 5 1 4-3 7-2 5 2 2h-2l-1 4-2 3-1 6 3 3 1 12 1 5-6 2-1-3h-3l-1 9 4-1h3l5-2-1 8h-3l-2 5h-3l-3-5-4-4 1-10 1-5 1-10h2v-6l2-5v-1l-1-6 2-1-2-3-2-2v-6l3-2 1 1 1-9 1-4-1-4 2-6 2-7 3-5 4-4 2-7-2-3v-10l3-1v-2l3-1 1-7 2-1 2-4 6-5h2v-6l5-5 3-1 2-3h2v-2l8-7z" fill="#B58A6E"/>
    <path transform="translate(1363,771)" d="m0 0 5 3 9 11 4 10v15l-3 14-6 14-9 10-8 6-11 5-6 2-7 1h-9l-11-2-11-6-15-6 4-2-1-3 3-3 9 3 5 1 1-4 4 2 2 5 6 3h9l5-1h12l8-2 2-6 2-3h2l2-4 4-5h2l2-5 4-17v-8l-2-12-3-6v-2h-2l-1-4z" fill="#F9D9DF"/>
    <path transform="translate(144,1011)" d="m0 0 8 3 1 4 6-1 4-3 4 1 3 3 1 7-1 11-2 9-2 3h-3l-3-4-4 9-3-3-8-4-6-9-2-5-2-4 1-6 4-7z" fill="#F0A5BD"/>
    <path transform="translate(527,1074)" d="m0 0h17l5 8v7l-4 8h-2v2h-2l-2 4-5 3-1 4-3 1v-3h-5l-5-2-5-4-2-5v-12l7-8z" fill="#B4896D"/>
    <path transform="translate(485,1103)" d="m0 0 9 1 6 3 6 4 2 6v14l-5 5-8 2-14-4-2-2-3-7-2-10 1-2h2l2-4 6-3z" fill="#AA7B64"/>
    <path transform="translate(1078,1070)" d="m0 0 7 2v-2l4 1v2l5 2 6 3 1 2v8l-2 7-7 4-12 6-5-1v-2l-6-3-4-10 1-7 6-5 3-3z" fill="#B4896D"/>
    <path transform="translate(542,447)" d="m0 0 3 1v7h2v3l3-1 1 9-2 10 2 6 2-6 2-8h4l2-4 4 2-2 1-2 7-5 5-2 3h-2v2l-6 1-5-5 1-5h-6l1 5h-2l-2 12-2 5-1 7-3 2-1 6h-2v-2l-4-1 1-4 2-5v-10l-1-2h-3l-1-4h4l1-3 4-3v-5l-5 2-1-2h2l2-5 4-2 1 1h6l2 2 4-3-1-3v-8h2v-2h-2z" fill="#AA7B64"/>
    <path transform="translate(988,1124)" d="m0 0h2l5 6-1 4 1 1v6l6 3 1 5h-3l1 3-6 3-4 4h-6l-1 3-7 1v-2l-2-1 4-2h2l2-2 6 1v-2h2l1-9-2-3 1-1-3-1-1 6-1 2h-3l-1 3h-2l-1 4-2-6-2 2-2-1v-4l-4 3-3 5-4 4-2-1v2l-7 3-1 2-3-1 6-7h2l1-4 5-1v-3l4-4 1-5 5-7 8-5 4-1z" fill="#AA7B64"/>
    <path transform="translate(1109,1115)" d="m0 0 9 2 3 6 1 5h2l1 4-3 1-2 4-10 8h-5l2-4-11 1-4-8v-7l4-7 8-4z" fill="#B58A6E"/>
    <path transform="translate(1128,1134)" d="m0 0h1v11l-6 15-4 6-7 10-3 5-2 4v-4h-4l-1-10h-2l-4-13-1-4 4-2 9 1 8-7h5l2-5z" fill="#E3C2AA"/>
    <path transform="translate(476,1155)" d="m0 0h8l12 4v7l-4 6-1 3-7 4-3 3h-8v-2l-8-1-1-2v-13l3-5h2l1-3z" fill="#B3886C"/>
    <path transform="translate(794,1359)" d="m0 0 3 4 6 14 3 13v15l-4 10-8 10-14 9-4 2h-13l-13-5-10-5 1-2 2 1 2-1h7l5 6 2 1h8l9-2 2-4 5-3 8-2 3-3h2l2-12 1-4v-14l-2-10-4-11z" fill="#F8D8DE"/>
    <path transform="translate(1036,1069)" d="m0 0 9 1 7 1 3 9-2 6-1 2h-2l-2 6-10 5-8-1-4-7-1-7 2-5 3-1 1-4 4-2z" fill="#B4896D"/>
    <path transform="translate(1059,758)" d="m0 0 4 2 11 11 1 4 5 3 5 6-3 1-2 5h-6l-3 1-1 2-5-3-4-5-2-1v-2l-7-1-1-4 3-1-1-2-1-14 3-1 3 1z" fill="#E2C1A9"/>
    <path transform="translate(814,642)" d="m0 0h3v2l3 1-1 2h2v3l-1 5-6 10-11 12-6 1v1l-8 2-5-1v2h-14l-2-6-3-1v-3l-6-5 2-4h5l-2 1 1 4 5 1 4 2h15l9 1 1-3 5-5 8-14 3-2-2-4z" fill="#614630"/>
    <path transform="translate(441,1109)" d="m0 0 1 2-2 7v5l4 2 2 4 2 1 1 9-1 7 2 5 2 6 3 3-1 9-3 3-10-1-3-11-1-6v-12l-1-3v-9l3-17z" fill="#E3C2AA"/>
    <path transform="translate(917,214)" d="m0 0 5 1 12 6 8 8 14 1 13 5 5 6 1 2v15l-4 7-9 8-7 4-2-1 9-8 4-8-1-6v-17l-10-3-8 1-5-2-5-5-3-4-12-3-4-3z" fill="#F4CDD7"/>
    <path transform="translate(1174,1344)" d="m0 0 4 2 5 5 1 3v15l-5 9-12 12-12 6-10 3-16 3-37 5-16-1-10-3-3-3 13 3 7 1h17l1-2 16-2 14-1 16-3 2-4 9-1 6-8h2v-2h2l1-4 2 1v-2h2v-2l3-1 1-2h2l-1-6 3-1-1-11-3-2v-3l-2-1z" fill="#F4CED8"/>
    <path transform="translate(1176,518)" d="m0 0h1l-1 10-2 9v8l2 4 3 24 4 13 5 5 7 3 14 2v1h-12l-12-3-6-4-5-7-4-10-1-6v-14l2-14z" fill="#F5CED8"/>
    <path transform="translate(696,563)" d="m0 0 6 1 5 4 1 2v9l-4 8-1 1h-6l-6-4-4-6v-7l4-6z" fill="#5C422C"/>
    <path transform="translate(499,1107)" d="m0 0 7 4 2 6v14l-5 5-8 2-14-4-2-2-2-7 4 3 1 4h6l4-2h2l-2-11 1-4 6-2z" fill="#B58A6E"/>
    <path transform="translate(842,536)" d="m0 0 6 2 3 3 2 10v5l-7 6h-6l-5-5-2-3v-10l6-7z" fill="#5C422C"/>
    <path transform="translate(1088,787)" d="m0 0 6 5 9 11 13 17 13 20-1 2-4-4-4-1-3-9-4-6v-2h-4l-5-5v-2h-7l-7-6v-9l-4-7z" fill="#E2C1A9"/>
    <path transform="translate(1107,1287)" d="m0 0h10l10 3 7 6 4 7 3 12-1 21-2-2-1-16-2-13-3-5v-2l-6-2-6-5-10-1-6 1-6 4h-2v2l-4 1-2 4-3 3h-2l-2 5-5 5-6 8-1-3 9-15 6-7 11-7z" fill="#F5CFD8"/>
    <path transform="translate(1022,893)" d="m0 0h3l2 5 4 4v2h2v3l3 1 3 7 4 15v3h-2l-2 2-1-5-5-1-1-1v-6h-2l-6-10v-8z" fill="#B4896D"/>
    <path transform="translate(656,1382)" d="m0 0h1l1 19 6 7 8 11 12 5 8 1 5 2 3 1 12-1 6-2-5 5-3 1h-21l-11-3-9-5-5-4-6-10-2-7z" fill="#F9D9DF"/>
    <path transform="translate(946,1167)" d="m0 0h2l1 12-2 4h-2l1 3 5-3v3h2l3 6 3 2-3 8-3 1-2-5-6 1-2-3 3-5-4-1v2l2 1h-2l1 6-4-2-1-3 1-4 2-1v-7l-3 1v-7l7-6z" fill="#AA7B64"/>
    <path transform="translate(463,890)" d="m0 0h2l-1 7h2v-3l4-1 1 2-1 1 1 2v6l-5 2v9l-4 2-2-1v3l-5 1-7-3 4-6 5-2 3-3-5-5 2-4-1-2 3-1z" fill="#B68B6F"/>
    <path transform="translate(294,789)" d="m0 0h7l10 4 10 8 1 3h-2v-2l-4-1-3-4-4-1h-14l-11 3-5 3-4 10-3 1-2 5-4 2-2 2 1-6 7-12 10-10 8-4z" fill="#F4CED8"/>
    <path transform="translate(322,804)" d="m0 0 4 4 4 11 2 15 1 10v9l-3 14-7 16-2 1 2-6 2-4 2-18-1-9 1-14v-7l-3-13z" fill="#F5CFD9"/>
    <path transform="translate(163,1017)" d="m0 0 5 3 1 7-2 5-1 3h-2l-1 3v-2l-6 3-1 1-7-1v-11l3-5h5l5-5z" fill="#F3C9D5"/>
    <path transform="translate(305,885)" d="m0 0h5v3h2l1 4 2 1-10 6-4 1h-13l-17-4 2-2 1-4 1-2 5-1 8 8 9 1 4-1 2-7z" fill="#F4CDD8"/>
    <path transform="translate(998,838)" d="m0 0 5 1v2h4l5 6v2h2l4 8 3 3 3 5v3h2l3 8 3 14 1 11h-2l-2-6v-8h-3l-2-5v-3l-3 1v-9h2l-2-4-2-1v-2h-2l1 3-3-1-2-5 1-1-1-5-2-5h-2l-3-5h-5l1-3h-2z" fill="#B58A6E"/>
    <path transform="translate(1271,535)" d="m0 0 4 2 5 6 2 6v9l-8 17-5 6-10 7-18 8-7 2h-25v-1l23-1 12-4 4-3h2v-2l9-2 3-1v-2l4-2 4-5 3-6 1-6 2-6v-16z" fill="#F5D0D9"/>
    <path transform="translate(1027,1122)" d="m0 0 2 1 1 9 1 5-1 7 2 1h-2v3h-2v2l-6 1v-2l-5 1 3 1 1 7-2 1-2 4-3-1v-8l-2-3 5-4 3-5 1-4h3v-12l3-1z" fill="#AA7B64"/>
    <path transform="translate(461,936)" d="m0 0 3 1 1 2h3l3 2-3 7 2 1-3 1v-2l-6 2-1 2 5 2v5l-4 2-1 3-2-3-2 1h-4v4l-4-1 2-4-1-9 2-3 5 1h3l1-4-2-5 1-4z" fill="#B58A6E"/>
    <path transform="translate(761,663)" d="m0 0h5l-2 1 1 4 5 1 4 2h15l8 1v1l-5 1-2 4-3-1-1 2h-3l1 3h-14l-2-6-3-1v-3l-6-5z" fill="#A57861"/>
    <path transform="translate(617,964)" d="m0 0 2 1v5l2-4h3l1 6-1 3h-2l1 2h2l-1 5-8 1v2h4l-1 2-2-1-1 2v-2h-4l-4 2h-2l-3-1-1-9h3l1-4h2l1-4 1 4v2l3 1v2l1-1 1-4h3v-2l-3-1 1-5z" fill="#B58A6E"/>
    <path transform="translate(599,237)" d="m0 0 6 2 5 5 3 1 4 5 4 11 1 3 3 1 3 9 2 3-4-2-11-13-6-8-8-9-4-7z" fill="#F9D9DF"/>
    <path transform="translate(965,396)" d="m0 0h2v2h3l1 5-4 3v3h-2v2l-4 1-2 2-6 2-4 6-4-2-1-4 6-2 1-7 4-6v-2h2l1 2 3-1 2 1z" fill="#AA7B64"/>
    <path transform="translate(1323,784)" d="m0 0h4l1 6-1 7 1 1-1 8-2 5-4-2v-2l-4-1-3-6 1-9 4-2z" fill="#F0A5BD"/>
    <path transform="translate(1214,796)" d="m0 0 8 6 1-2h2v-3h4l5 12v2l9 1 4 2v8l-1 2-4-2-16-13-10-9z" fill="#F9D9DF"/>
    <path transform="translate(496,523)" d="m0 0h3v3h2l7 7 1 2 5 1 2 3v8l1 2-4-2-4-4-9-6-12-10 1-2 2 1 1-2z" fill="#E3C2AB"/>
    <path transform="translate(185,1153)" d="m0 0 7 1 6 2 10-1 13 2 9-1 9-2-4 3-13 4-6 1h-9l-14-2-12-5z" fill="#F9D9DF"/>
    <path transform="translate(895,269)" d="m0 0 8 6 3 1v4h3v2l10 3 9 1 13-5 6-1-2 2-15 6-9 3h-8l-7-4-9-12-2-3z" fill="#F5CED8"/>
    <path transform="translate(880,754)" d="m0 0 6 2 5 5 1-2 3 5h3v2h2l1 7-4 2-1-4-4-3-2 6v2h-3v-3l-7-1-1-3-4-1-1-2 3-1 4 3 6 2-1-7-4-1z" fill="#B58A6E"/>
    <path transform="translate(818,149)" d="m0 0 2 2 5 17v12l-3 16-2 5-1-4-1-9v-5h2v-11l-3-14z" fill="#F9D9DF"/>
    <path transform="translate(1221,487)" d="m0 0 5 2 7 8 3 8v21l-1 3h5v1l-9 1-1-19v-9l-2-7-4-4z" fill="#F5CED8"/>
    <path transform="translate(1409,1062)" d="m0 0 3 4 3 8v8l-2 8-5 14-2 8-2-4-2-11 3-2 3-9h2v-17z" fill="#F4CED8"/>
    <path transform="translate(903,213)" d="m0 0h14l-8 4-1 3-8 4-5 1-3 12v16l3 13-1 3-4-15v-22l3-10 4-6z" fill="#F4CDD7"/>
    <path transform="translate(987,1125)" d="m0 0v3l3 2-1 5-2 1v-2h-3l-1-2-4 2-1 2h2v2l3-1 1 1v5l-3 2h-7l-1-1v-5l-5 4-1 2-1-4 6-8 8-5 4-1z" fill="#B58A6E"/>
    <path transform="translate(440,915)" d="m0 0 2 2v3l8-2 5 3v3l4-1v3h-3v2h-2l-2 6h-3l-4-6v-2l-5 2-2-4v-6z" fill="#B58A6E"/>
    <path transform="translate(653,789)" d="m0 0 3 4v2h6l1 2 4 1-1-5 2-1h8l2 5 6-2h3l1-2 3 1-2 4-9 3v2h-2l-4-6h-3v2l2 1-10 1v-2h-2l-1 2-6-1-1-4z" fill="#B4896D"/>
    <path transform="translate(1e3 469)" d="m0 0 4 4 1 7h2l3 8-1 2-5 1-2 4h-2l-2-3-1-15z" fill="#CDA187"/>
    <path transform="translate(940,342)" d="m0 0m-2 1h2v2l-3 1-3 7-3 3h-2v2l-7-1-3-8-4-3 1-1 20-1z" fill="#E3C2AA"/>
    <path transform="translate(589,776)" d="m0 0h5l6 2 5 6 1 3-7 1v-2h-3l-1 5-2 2-2-5-5-2-1-4h2z" fill="#B58A6E"/>
    <path transform="translate(494,788)" d="m0 0 2 1-2 3h-2v7l-1 2 3 1v2l-7 1-6-3 1 6-6 1v-2h-6l5-5 11-8z" fill="#E2C1A9"/>
    <path transform="translate(909,349)" d="m0 0h3l1 6-15 9-2 2-2-1v-2h-5l6-7 8-5z" fill="#E3C2AA"/>
    <path transform="translate(1267,292)" d="m0 0 2 3 3 15v12l-4 15-2 3-1-6 2-4-1-1v-13-3l1-10z" fill="#F5CED8"/>
    <path transform="translate(434,934)" d="m0 0 6 3 1 10-2 4h-3l1 3-3 1v-2h-5l-1 2-2-2 4-2-1-3 1-2h-2v-2l4-2z" fill="#B58A6E"/>
    <path transform="translate(515,673)" d="m0 0 4 1 2 5 3 1 3 6v4l-5-1-4-1-1 6-2-3-4-9z" fill="#E3C2AA"/>
    <path transform="translate(825,387)" d="m0 0 13 1 10 3 4 4-4 1-3 4-7-1v-2h-2v-2l-4-1v-2l-8-2z" fill="#E3C2AA"/>
    <path transform="translate(616,104)" d="m0 0h5l-2 4-15 6-10 9-8 5-3 3 2-5 11-12 11-7z" fill="#F9D9DF"/>
    <path transform="translate(966,769)" d="m0 0 4 4 1-2h2v2l4 1 2 6 4 2 3 4v2h2l1 8-1-2-5-2-7-8-1-3h-2v-2h-3v-4h-4l-1-3z" fill="#B4896D"/>
    <path transform="translate(688,220)" d="m0 0h7l7 6 5 6-1 5-6 3-3-9-8-6-5-2z" fill="#F3CBD6"/>
    <path transform="translate(1046,995)" d="m0 0h1v5h-2l-3 9-9 13-3 7-6-3 2-5 3-1 1-3 4-4 1-3 2-1v-5l5-5h4z" fill="#E2C1AA"/>
    <path transform="translate(516,1143)" d="m0 0 7 3v4h-2l-2 5 2 1-3 9 1 4-2 5-3-2-1-16 2-4v-8z" fill="#AA7B64"/>
    <path transform="translate(1136,1398)" d="m0 0h9v1l-16 3-37 5-16-1-10-3-3-3 13 3 7 1h17l1-2 16-2 14-1z" fill="#F6D1DA"/>
    <path transform="translate(1287,1156)" d="m0 0 11 1 1 2 5 2h22l13-2 4-2h6l-3 2-6 2-13 2h-26l-19-2-12-1v-1l14-1z" fill="#F6D1DA"/>
    <path transform="translate(530,945)" d="m0 0 1 4v2l-2 9-3 4v2l2 2-5 1v2l-4 2-1-6 2-1-2-3-2-2v-6l3-2 4 1-2 6-1 2 2 1 1 1 6-18z" fill="#B68A6F"/>
    <path transform="translate(593,1060)" d="m0 0 3 1 3 6 1 4 1 6h-3v2h-3v-2l-4-1-5-3v-4l6 2-2-6 1-2h3z" fill="#B58A6E"/>
    <path transform="translate(1198,772)" d="m0 0 5 1 3 1 4-1v6h4l-2 6-5 2-4-3v-3h-2v-3h-2z" fill="#F0A8BF"/>
    <path transform="translate(547,1180)" d="m0 0 5 1 2 8-1 11h-3l-2-5v-5l-5-1-1-6z" fill="#AA7B64"/>
    <path transform="translate(761,663)" d="m0 0h5l-2 1 1 4 5 1 4 2 5 2 2 5-3 1-8-4v2l4 2v2l-5-2-1-3-3-1v-3l-6-5z" fill="#5D422C"/>
    <path transform="translate(617,964)" d="m0 0 2 1v5l2-4h3l1 6-1 3h-2l1 2h2l-1 5-10 1-1-3h3l-2-4 1-2h3v-2l-3-1 1-5z" fill="#B68B6F"/>
    <path transform="translate(643,209)" d="m0 0 1 2-5 9-1 7 5 10 2 5-2-1v-2h-2l-6-9-2-11 2-5z" fill="#F0A5BD"/>
    <path transform="translate(1301,781)" d="m0 0h5l7 3-1 4-5 3-8 1-2-1 1-4z" fill="#F0A5BD"/>
    <path transform="translate(917,214)" d="m0 0 5 1 12 6 8 8 14 1v1l-13 1h-3l-6-8-12-3-4-3z" fill="#F5CED8"/>
    <path transform="translate(1088,1074)" d="m0 0 4 1 2 6h-2l1 1 3 1-1 5-4 1-2-5-3-2-5 1v-5l4-3 1 2h2z" fill="#AA7B64"/>
    <path transform="translate(1155,1335)" d="m0 0 8 1 9 5 1 2-3-1h-11l-9-3-10-2v-1z" fill="#F4CED8"/>
    <path transform="translate(1303,814)" d="m0 0 3 1-1 9-1 2h-3l-2 6-4 2v-7z" fill="#F0A5BD"/>
    <path transform="translate(928,790)" d="m0 0 4 2v2l7 2 4 7 1 4-4 1 1 2-3-1-4-9-2-1-1-4-3-3z" fill="#B68B6F"/>
    <path transform="translate(410,1388)" d="m0 0 9 1-4 3-16 6h-5l3-3 7-6z" fill="#F4CED8"/>
    <path transform="translate(485,1103)" d="m0 0 9 1 5 2-4 1v3l-3-1-1-3-3-1 1 8h-4l-1-2h-4l-3 5-2 4-1-5 1-2h2l2-4 6-3z" fill="#B58A6E"/>
    <path transform="translate(886,366)" d="m0 0 1 3-4 4-1 6 2 1-2 5-9 2-2 1 2-5 9-12z" fill="#E3C2AA"/>
    <path transform="translate(1064,1220)" d="m0 0h9l-9 9-7 6-4 1v-4l3-2 1-3 5-2v-4z" fill="#E3C2AA"/>
    <path transform="translate(1039,1159)" d="m0 0h2v3h3l3 4-3 4h-4l-3 6-3 2-1-2 4-11h2z" fill="#AA7B64"/>
    <path transform="translate(1046,586)" d="m0 0h1v31l-2 12h-1l-2-7h-6l3-5 2-1h4v-14l-1-4 1-1z" fill="#F9D9DF"/>
    <path transform="translate(1009,1158)" d="m0 0 4 1 2 4 1 3 2 1-2 5-7-1-2-9-1-3z" fill="#AA7B64"/>
    <path transform="translate(1105,915)" d="m0 0 2 1 2 6-1 9h-4l-2-3-1-3-1-4z" fill="#CEA288"/>
    <path transform="translate(785,1181)" d="m0 0h5l-1 6 10 1v1l-10 1-9 4-1-9 6-2z" fill="#E3C2AA"/>
    <path transform="translate(602,1148)" d="m0 0 5 1 5 3 2 7-3 1-2-2-2 4-4 1 1-2h2l-2-5v-3l-2-1z" fill="#AB7D65"/>
    <path transform="translate(567,1185)" d="m0 0h5l2 5 1 2-2 4v5l-5-3-2-3z" fill="#AA7B64"/>
    <path transform="translate(907,744)" d="m0 0 5 2 2 1v3h2l3 7 1 7-2 2h-5l-2-4h5l-1-7h-2l-3-6-3-2z" fill="#B58A6E"/>
    <path transform="translate(405,596)" d="m0 0h1l1 7 1 29-2 21h-1v-14l1-10-1-2z" fill="#F6D2DB"/>
    <path transform="translate(946,772)" d="m0 0 11 6 10 8 5 5 2 5h-3l-5-7-5-3v-2h-2v-2h-2v-2l-4-1v-2l-5-1-3-1z" fill="#B1856A"/>
    <path transform="translate(411,980)" d="m0 0 8 6 5 5 3 5 4 2v2l10 4 7 1 3 3-14-2-10-7-4-4v-2l-4-2-1-3h-2l-5-6z" fill="#F9D9DF"/>
    <path transform="translate(572,851)" d="m0 0h2l-1 5-4 3-3 1-3 5-5 6h-3l-1 5-1-4 3-6 3-1 7-8 5-5z" fill="#AA7B64"/>
    <path transform="translate(282,981)" d="m0 0 7 1-1 7h-2l-2 4h-3l-2-8 1-3z" fill="#F4CCD7"/>
    <path transform="translate(523,1195)" d="m0 0h3l2 2h2v8l1 5-3 1-6-11v-4z" fill="#AA7B64"/>
    <path transform="translate(814,652)" d="m0 0h1v5l-4 2-3 1 1-5 4-2z" fill="#AB7D65"/>
    <path transform="translate(1101,1044)" d="m0 0 4 2 10 7 3 3-1 2-6-4-3 1-3-1-4-4z" fill="#F9D9DF"/>
    <path transform="translate(843,1178)" d="m0 0 4 1 4 3-15 3v2l-5 1h-13v-1l11-1 7-3 1-3h5z" fill="#E5C4B0"/>
    <path transform="translate(349,308)" d="m0 0 4 1-8 4h-2v2l-4 3-2 4-4 3h-2l2-6 5-6z" fill="#F5CFD8"/>
    <path transform="translate(551,1269)" d="m0 0h3v3l5 2 7 1v1h-19l-6-2v-1l9-1z" fill="#F8D8DE"/>
    <path transform="translate(623,1240)" d="m0 0h2v5l-9 5h-8l2-4h7l1-3z" fill="#AC7D65"/>
    <path transform="translate(610,417)" d="m0 0 4 1v2h3l1 2 7 2v1l-9 2-3 1v-3l-5-2z" fill="#E3C2AA"/>
    <path transform="translate(529,1155)" d="m0 0h3l1 5-4 9h4v3l-5 2-1-1v-6l-1-5 4-5z" fill="#AA7B64"/>
    <path transform="translate(178,1033)" d="m0 0 4 2v2l2 1v3l1 5 2-4v6l-3 2-6-9-1-6z" fill="#F0A5BD"/>
    <path transform="translate(739,1333)" d="m0 0 7 2 2 6v2l-3-1v-6l-5 1v3h-2l-1 4-2 1v-2l-3-1z" fill="#F0A5BD"/>
    <path transform="translate(1052,1120)" d="m0 0 3 3-3 13h-3v-15z" fill="#AA7B64"/>
    <path transform="translate(967,1185)" d="m0 0h1v9l-2 3h-5l-1-4 4-7z" fill="#AA7B64"/>
    <path transform="translate(1071,1080)" d="m0 0h2l-2 5-3 3h2v2h5l1-3 1 5-4 1-2-1-1 2-5-5v-5z" fill="#AA7C64"/>
    <path transform="translate(1294,764)" d="m0 0 2 3v6l3-4 3 1-2 2-3 7-4 2-1-4 1-5v-7z" fill="#F0A5BD"/>
    <path transform="translate(751,1187)" d="m0 0 2 1v2l7 1 1 4-9 1-3-3 1-5z" fill="#CFA389"/>
    <path transform="translate(632,981)" d="m0 0 4 6-4 3-2-3-3 12-2 1 1-10 1-2h-3v-3l4-1v2h2l1-4z" fill="#B58A6E"/>
    <path transform="translate(995,1184)" d="m0 0h2v2l3 1h-2l-1 3-3 1-2 4-4-1-1-5 4-2h2z" fill="#AA7B64"/>
    <path transform="translate(814,652)" d="m0 0h1v5l-5 8-8 9-1-3 3-1 2-5 5-6-3 1 1-5 4-2z" fill="#AA7B64"/>
    <path transform="translate(527,948)" d="m0 0 1 4-5 14-2-1-1-5 2-6z" fill="#CEA288"/>
    <path transform="translate(892,227)" d="m0 0 2 2-2 8v16l3 13-1 3-4-15v-22z" fill="#F6D1DA"/>
    <path transform="translate(997,1116)" d="m0 0 6 2v3l3 1 1 4 1 3-4-2-3-1v-4h-3v-2h-2z" fill="#AA7B64"/>
    <path transform="translate(981,348)" d="m0 0 5 1 8 5 11 10-1 2-6-5-2-1v-2l-4-2-5-2-2-3-4-1z" fill="#F9D9DF"/>
    <path transform="translate(564,892)" d="m0 0 2 4 2-4 2 1-1 11h-3l1-4h-4l-1 3-1-4z" fill="#B58A6E"/>
    <path transform="translate(574,879)" d="m0 0 4 1 1 3h-2l-2 7-1 3h-2l-2-6h2l1-7z" fill="#B58A6E"/>
    <path transform="translate(1245,679)" d="m0 0v3l-1 2-8 1-4 5-8 4-2-1 11-8 4-3z" fill="#F9D9DF"/>
    <path transform="translate(1006,367)" d="m0 0 4 5 6 11 1 5-3-3-8-11z" fill="#F9D9DF"/>
    <path transform="translate(530,945)" d="m0 0 1 4v2l-2 9-3 4h-2l1-6 4-12z" fill="#B58A6E"/>
    <path transform="translate(237,824)" d="m0 0h16l7 1v1l-11 1-3 1-2-1h-14l3-2z" fill="#F6D1DA"/>
    <path transform="translate(653,1146)" d="m0 0 4 1 2 9 1 3-2 2-2-2-2-5-1-1z" fill="#B3886D"/>
    <path transform="translate(1374,734)" d="m0 0 2 1-5 4-9 6-4 3-2-1 7-8 9-3z" fill="#F9D9DF"/>
    <path transform="translate(1033,653)" d="m0 0v3l-5 12-2 1 1-12z" fill="#F9D9DF"/>
    <path transform="translate(508,577)" d="m0 0h1l1 7 1 2-1 5-4 2-2 2 2-12z" fill="#E3C2AA"/>
    <path transform="translate(1100,353)" d="m0 0 2 3 5 12 5 4v2h2l4 6-4-2-9-9-5-12z" fill="#F6D2DA"/>
    <path transform="translate(572,932)" d="m0 0 4 1v4h-2l-1 4-3 2-1-3v-5h2z" fill="#B98E72"/>
    <path transform="translate(289,1301)" d="m0 0h5l-3 2-7 3-8 4-6 5 2-4 7-6z" fill="#F6D1DA"/>
    <path transform="translate(615,1172)" d="m0 0h3l-3 9-2 3-3-2 1-7 4-1z" fill="#AA7B64"/>
    <path transform="translate(591,948)" d="m0 0 5 1-1 3h3v3l-4 1-1 3-1-4 1-2-4 2v-3z" fill="#B58A6E"/>
    <path transform="translate(960,875)" d="m0 0 4 1 3 6v5h-4-1v-6l-2-3z" fill="#B58A6E"/>
    <path transform="translate(224,869)" d="m0 0 5 1v2l4 2 1 3-1 2-4-2-6-5z" fill="#F4CDD8"/>
    <path transform="translate(717,812)" d="m0 0h2l-2 4-10 10v2h-3l1-4h2l2-5h2l2-4z" fill="#B2876C"/>
    <path transform="translate(625,794)" d="m0 0h5v3h2l1 3-4 1-5-2v-4z" fill="#B68B6F"/>
    <path transform="translate(784,249)" d="m0 0 2 1-10 10-10 6 2-4 13-10z" fill="#F9D9DF"/>
    <path transform="translate(966,1219)" d="m0 0h7l6 5-1 2-5-1-3-2-5-1z" fill="#AA7B64"/>
    <path transform="translate(313,510)" d="m0 0 3 1-7 3v-2zm-5 4m-2 1 2 1-11 11-1-3 8-8zm-12 12 2 1-2 1z" fill="#F4C3D0"/>
    <path transform="translate(1104,1166)" d="m0 0 6 1v2h2v5l-4 1-4-6z" fill="#CEA288"/>
    <path transform="translate(1017,871)" d="m0 0 3 1v9l2 1v10l-3-1-1-10z" fill="#B4896D"/>
    <path transform="translate(1361,681)" d="m0 0 4 1 2 2 1 5-4 1-4-5z" fill="#F4CCD7"/>
    <path transform="translate(808,388)" d="m0 0 8 2-1 3h-5v4h-4z" fill="#E2C1A9"/>
    <path transform="translate(183,1100)" d="m0 0 3 4-1 3-2 1 1 5-5-3 1-6h2z" fill="#F0A5BD"/>
    <path transform="translate(595,1094)" d="m0 0 3 1v3l4 2 5 7-5-2-9-9z" fill="#B4896D"/>
    <path transform="translate(904,754)" d="m0 0h2l3 3v3h-2v2l-3 1-3-2 2-6z" fill="#B5896E"/>
    <path transform="translate(1042,745)" d="m0 0 6 3-2 1v3l-4 1-5-4 1-2z" fill="#E2C0A8"/>
    <path transform="translate(1196,489)" d="m0 0 2 1-8 7-1 2h-2l-2 4-4 3 2-5 8-9z" fill="#F5D0D9"/>
    <path transform="translate(724,128)" d="m0 0 2 1-4 6h-3v2l-9 5 2-4z" fill="#F9D9DF"/>
    <path transform="translate(946,772)" d="m0 0 11 6 6 5-2 3v-2h-2v-2h-2v-2l-4-1v-2l-5-1-3-1z" fill="#B4896D"/>
    <path transform="translate(1046,586)" d="m0 0h1v31l-2-1v-14l-1-4 1-1z" fill="#F8D8DD"/>
    <path transform="translate(543,1170)" d="m0 0h1v5l-3 7-4 1 1-5z" fill="#AA7B64"/>
    <path transform="translate(1009,1130)" d="m0 0 6 1v3l-4-1 3 6v2l-5-2-1-5z" fill="#AA7B64"/>
    <path transform="translate(520,964)" d="m0 0 3 1 2-1 3 4-5 1v2l-4 2-1-6 2-1z" fill="#B88D72"/>
    <path transform="translate(479,916)" d="m0 0 1 4-2 2h-4v2l-3 1 1-8h6z" fill="#B58A6E"/>
    <path transform="translate(879,839)" d="m0 0 2 2-1 4 4 1-3 2h-2l-1 5-2 1v-6z" fill="#B58A6E"/>
    <path transform="translate(520,709)" d="m0 0h6l1 5h-2v5h3l-1 3-1-2h-2z" fill="#E5C3B0"/>
    <path transform="translate(965,354)" d="m0 0h2l1 6-2 3h-3l-1-6z" fill="#B58A6E"/>
    <path transform="translate(285,1052)" d="m0 0h2l1 2v6l-3 3-2-1z" fill="#F9D9DF"/>
    <path transform="translate(650,985)" d="m0 0h2l2 8v7l-4-1z" fill="#B58A6E"/>
    <path transform="translate(1031,604)" d="m0 0 2 1-2 4-4 5-4-1v-2l5-2 2-4z" fill="#CEA288"/>
    <path transform="translate(703,1331)" d="m0 0 2 1-8 6-6 3-3-1 13-8z" fill="#F9D9DF"/>
    <path transform="translate(636,809)" d="m0 0h1l-1 9-4 7-3 1 1-4 4-6z" fill="#B58A6E"/>
    <path transform="translate(1030,735)" d="m0 0 6 1 5 5 1 4-4-2-2-3-4-1-2 1z" fill="#E1C0A8"/>
    <path transform="translate(864,392)" d="m0 0h4l-2 5-8 3v-4l-6-1v-1h7l4 1z" fill="#F9DBE0"/>
    <path transform="translate(314,1009)" d="m0 0 2 1v7l-3 1-1 2-1-5 1-4h2z" fill="#F9D9DF"/>
    <path transform="translate(841,788)" d="m0 0 5 1v2l5-1 1 5-3 1v-3l-6-1-3-3z" fill="#B4896D"/>
    <path transform="translate(769,673)" d="m0 0 7 4 5 1-1 2-3 2h-7v-2l4 1-5-6z" fill="#AC7E66"/>
    <path transform="translate(852,395)" d="m0 0h6l1 4 5-2 2 1-4 2-1 3-4-2-2-4z" fill="#E3C2AA"/>
    <path transform="translate(263,1075)" d="m0 0 3 1 1 5h-7v-4z" fill="#F9D9DF"/>
    <path transform="translate(594,990)" d="m0 0 1 2-3 8-6 1-1-3h4l2-6z" fill="#B58A6E"/>
    <path transform="translate(596,960)" d="m0 0 3 1v7l-7 1 2-4z" fill="#B78C70"/>
    <path transform="translate(1346,755)" d="m0 0 4 2 6 8-5-2-6-4z" fill="#F9D9DF"/>
    <path transform="translate(716,172)" d="m0 0 3 3-2 6-2-1v-2h-2l1-5z" fill="#F0A5BD"/>
    <path transform="translate(1060,1036)" d="m0 0h14l-4 4-8-2z" fill="#CEA288"/>
    <path transform="translate(967,888)" d="m0 0h2l2 12v3h-2l-2-4-1-7h2z" fill="#B58A6E"/>
    <path transform="translate(1250,587)" d="m0 0h5l-1 3-6 3-4-1 4-3h2z" fill="#F4CED8"/>
    <path transform="translate(1089,1201)" d="m0 0 3 1-1 3-6 4-1-4 2-3z" fill="#E3C2AA"/>
    <path transform="translate(937,226)" d="m0 0 4 2 1 1 14 1v1l-13 1h-3l-3-4z" fill="#F6D3DB"/>
    <path transform="translate(783,118)" d="m0 0 7 1 4 3-1 1-7-1-3-2z" fill="#F9D9DF"/>
    <path transform="translate(1034,916)" d="m0 0 3 2 2 7 1 4-3-1-1-3-2-1z" fill="#CEA288"/>
    <path transform="translate(548,759)" d="m0 0h7l-3 4v2h-3v-2h-5z" fill="#E3C2AA"/>
    <path transform="translate(628,1104)" d="m0 0 6 3 1 5-8-4z" fill="#B4886D"/>
    <path transform="translate(1073,1099)" d="m0 0 8 2v2l2 1-6 1-2-1v-2l-3-1z" fill="#B88D71"/>
    <path transform="translate(505,1071)" d="m0 0h5v4l-7 1 1-4z" fill="#E3C2AA"/>
    <path transform="translate(570,1031)" d="m0 0 5 5-1 5-3-1z" fill="#B58A6E"/>
    <path transform="translate(412,885)" d="m0 0 4 4v2l-5 1-1-5z" fill="#CEA288"/>
    <path transform="translate(466,879)" d="m0 0h2v2h3l-1 5-3 1v-2l-3-3v-2z" fill="#B58A6E"/>
    <path transform="translate(684,400)" d="m0 0 3 1-7 6-3-1-1-3z" fill="#E0BEA6"/>
    <path transform="translate(600,985)" d="m0 0 2 1-2 7-4 2 3-9z" fill="#B58A6E"/>
    <path transform="translate(579,839)" d="m0 0h4v5l-4 1-2-4z" fill="#B58A6E"/>
    <path transform="translate(982,770)" d="m0 0 4 1 2 4 4 2-1 3-9-9z" fill="#B3876C"/>
    <path transform="translate(917,761)" d="m0 0h2l1 3-2 2h-5l-2-4h5z" fill="#B4896D"/>
    <path transform="translate(762,662)" d="m0 0h5l3 5-1 2-5-1v-4z" fill="#B6896F"/>
    <path transform="translate(861,1196)" d="m0 0 5 1-5 5-3-3z" fill="#E2C0A8"/>
    <path transform="translate(568,863)" d="m0 0 8 1v3h-2v2l-4-1z" fill="#CEA288"/>
    <path transform="translate(470,810)" d="m0 0 7 1v6l-5-1z" fill="#E3C2AA"/>
    <path transform="translate(522,771)" d="m0 0 3 1 1 6-3 1-2-4-2 1-2-2z" fill="#E2C0A8"/>
    <path transform="translate(814,652)" d="m0 0h1v5l-4 2-3 1 1-5 4-2z" fill="#AB7D65"/>
    <path transform="translate(814,641)" d="m0 0 5 1 3 3v8l-3-2 1-3-1-1v-2l-2-1v-2z" fill="#B3866D"/>
    <path transform="translate(446,1173)" d="m0 0h2l1 7h-3l-1 2-1-5z" fill="#E3C2AA"/>
    <path transform="translate(606,1048)" d="m0 0 3 1-2 4h-2v2l-4-2 2-3 2-1z" fill="#B58A6E"/>
    <path transform="translate(511,777)" d="m0 0 2 1-4 3h-2v2l-4 2-3-1 9-6z" fill="#E3C2AA"/>
    <path transform="translate(782,676)" d="m0 0h3l-1 6h-7l-1-2 5-2z" fill="#5C422C"/>
    <path transform="translate(1202,261)" d="m0 0 5 3 5 1-4 2-5-1z" fill="#F5D1DA"/>
  `;
  // å°†SVGä»£ç æ’å…¥åˆ° <defs> ä¸­
  samoyed.html(samoyedSVGContent);
  // === END DEFS ===

  const g = svg.append("g")
    .attr("transform", `translate(${margin.left},${margin.top})`);

  const x = d3.scaleLinear().domain([0, 1]).range([0, innerW]);
  const y = d3.scaleBand().domain(bmiCats.map(d => d.key)).range([0, innerH]).padding(0.35);

  // ç»˜åˆ¶åæ ‡è½´
  const xAxisG = g.append("g")
    .attr("class", "axis")
    .attr("transform", `translate(0,${innerH})`);
  xAxisG.call(d3.axisBottom(x).ticks(5).tickFormat(d3.format(".0%")).tickSize(10));
  xAxisG.select(".domain").remove();
  xAxisG.append("line")
      .attr("x1", 0).attr("y1", 0).attr("x2", innerW).attr("y2", 0)
      .attr("stroke", "#8c5e35").attr("stroke-width", 4).attr("stroke-linecap", "round");


  g.append("text")
    .attr("x", innerW/2).attr("y", innerH + 45)
    .attr("text-anchor", "middle")
    .attr("fill", "#6b4226").attr("font-size", 16).attr("font-weight", "bold")
    .text("Percentage within BMI group");

  const tooltip = d3.select("#tooltip");

  // ====== PILLOW GEOMETRY GENERATOR ======
  function getPillowPath(x, y, w, h) {
      if (w <= 0 || isNaN(w)) return "";
      const bulge = h * 0.15;
      const r = h * 0.3;

      return `
          M ${x + r}, ${y}
          Q ${x + w/2}, ${y - bulge} ${x + w - r}, ${y}
          Q ${x + w + bulge*0.5}, ${y + h/2} ${x + w}, ${y + h - r}
          Q ${x + w/2}, ${y + h + bulge} ${x + r}, ${y + h}
          Q ${x - bulge*0.5}, ${y + h/2} ${x}, ${y + r}
          Q ${x}, ${y} ${x + r}, ${y}
          Z
      `;
  }

  // ====== HELPERS ======
  function bmiCategory(bmi){
    if (bmi == null || !Number.isFinite(bmi)) return null;
    for (const c of bmiCats) if (c.test(bmi)) return c.key;
    return null;
  }
  function sleepBucket(hours){
    if (hours == null || !Number.isFinite(hours)) return null;
    if (hours < 7) return "short";
    if (hours <= 9) return "just";
    return "long";
  }
  function applyFilters(raw){
    const sleepMeasure = d3.select("#sleepMeasure").property("value");
    const sex = d3.select("#sexFilter").property("value");
    const pov = d3.select("#povFilter").property("value");
    return raw.map(d => {
        const bmiCat = bmiCategory(d.bmi);
        const bucket = sleepBucket(d[sleepMeasure]);
        return { ...d, bmiCat, bucket };
      })
      .filter(d => d.bmiCat && d.bucket)
      .filter(d => sex === "all" ? true : String(d.sex) === sex)
      .filter(d => pov === "all" ? true : String(d.family_monthly_poverty_category) === pov);
  }
  function summarize(data){
    const counts = d3.rollup(data, v => v.length, d => d.bmiCat, d => d.bucket);
    const totals = d3.rollup(data, v => v.length, d => d.bmiCat);
    return bmiCats.map(c => {
      const total = totals.get(c.key) || 0;
      const row = { bmiCat: c.key, n: total };
      for (const b of buckets){
        const k = b.key;
        const cnt = counts.get(c.key)?.get(k) || 0;
        row[k] = total > 0 ? cnt / total : 0;
        row[`${k}_n`] = cnt;
      }
      return row;
    });
  }
  function renderLegend(){
    const leg = d3.select("#legend");
    leg.selectAll("*").remove();
    const items = leg.selectAll(".leg-item")
      .data(buckets).enter().append("div")
      .attr("class", "leg-item")
      .style("opacity", d => activeBuckets.has(d.key) ? 1 : 0.5)
      .on("click", (e,d) => {
        if (activeBuckets.has(d.key)) activeBuckets.delete(d.key);
        else activeBuckets.add(d.key);
        update();
      });
    items.append("div").attr("class", "swatch").style("background", d => d.color);
    items.append("div").text(d => d.label);
  }
  function showTip(html, x, y){
    tooltip.html(html).style("transform", `translate(${x + 15}px, ${y + 15}px)`);
  }
  function hideTip(){ tooltip.style("transform", "translate(-9999px,-9999px)"); }

  // ====== MAIN UPDATE ======
  let RAW = [];

  function update(){
    renderLegend();
    const filtered = applyFilters(RAW);
    const rows = summarize(filtered);
    const keys = buckets.map(d => d.key).filter(k => activeBuckets.has(k));
    const stack = d3.stack().keys(keys);
    const series = stack(rows);

    const rowG = g.selectAll("g.row").data(rows, d => d.bmiCat);
    const rowEnter = rowG.enter().append("g")
      .attr("class", "row")
      .attr("transform", d => `translate(0,${y(d.bmiCat)})`)
      .style("cursor", "pointer")
      .on("click", (e,d) => {
        lockedRow = (lockedRow === d.bmiCat) ? null : d.bmiCat;
        update();
      });

    // æ’å…¥è¨æ‘©è€¶ (ä½¿ç”¨åƒç´ ç‰ˆ)
    rowEnter.append("use")
        .attr("href", "#samoyed-icon")
        // ä½¿ç”¨ 0.04 ç¼©æ”¾æ¯”ä¾‹ï¼Œå°†1600px ç¼©å°åˆ°çº¦ 60px
        .attr("transform", `translate(-65, ${y.bandwidth()/2 - 30}) scale(0.04)`);

    // è°ƒæ•´æ–‡å­—æ ‡ç­¾ä½ç½®
    rowEnter.append("text")
      .attr("class", "row-label")
      .attr("x", -68)
      .attr("y", y.bandwidth()/2)
      .attr("text-anchor", "end")
      .attr("dominant-baseline", "middle")
      .text(d => d.bmiCat);

    rowG.merge(rowEnter)
      .transition().duration(200)
      .attr("transform", d => `translate(0,${y(d.bmiCat)})`)
      .style("opacity", d => lockedRow && d.bmiCat !== lockedRow ? 0.3 : 1);
    rowG.exit().remove();

    const bars = g.selectAll("g.layer").data(series, s => s.key);
    const barsEnter = bars.enter().append("g")
      .attr("class", "layer")
      .attr("fill", s => buckets.find(b => b.key === s.key).color)
      .style("filter", "url(#cartoonShadow)");

    bars.merge(barsEnter).attr("fill", s => buckets.find(b => b.key === s.key).color);
    bars.exit().remove();

    const pillows = g.selectAll("g.layer").selectAll("path")
      .data(d => d.map(v => ({ key: d.key, v })), d => d.v.data.bmiCat);

    pillows.enter().append("path")
      .attr("d", d => {
         const x0 = x(d.v[0]), x1 = x(d.v[1]);
         return getPillowPath(x0, y(d.v.data.bmiCat), Math.max(0, x1 - x0), y.bandwidth());
      })
      .on("mousemove", (e,d) => {
        const pct = d.v.data[d.key], n = d.v.data[`${d.key}_n`], total = d.v.data.n;
        showTip(`<b>${d.v.data.bmiCat}</b><br/>${buckets.find(b => b.key === d.key).label}<br/><b>${d3.format(".1%")(pct)}</b> (${n}/${total})`, e.clientX, e.clientY);
      })
      .on("mouseleave", hideTip)
      .merge(pillows)
      .transition().duration(400)
      .attr("d", d => {
          const x0 = x(d.v[0]), x1 = x(d.v[1]);
          const w = Math.max(0, x1 - x0);
          const pad = w > 4 ? 2 : 0;
          return getPillowPath(x0 + pad, y(d.v.data.bmiCat), Math.max(0, w - pad*2), y.bandwidth());
      })
      .style("opacity", d => lockedRow && d.v.data.bmiCat !== lockedRow ? 0.3 : 1)
      .style("stroke", "#8c5e35")
      .style("stroke-width", 3)
      .style("stroke-linejoin", "round");

    pillows.exit().remove();

    const texts = g.selectAll("g.layer").selectAll("text.pct-text")
      .data(d => d.map(v => ({ key: d.key, v })), d => d.v.data.bmiCat);
    texts.enter().append("text")
      .attr("class", "pct-text")
      .attr("text-anchor", "middle").attr("dominant-baseline", "middle")
      .merge(texts).transition().duration(250)
      .attr("x", d => (x(d.v[0]) + x(d.v[1])) / 2)
      .attr("y", d => y(d.v.data.bmiCat) + y.bandwidth()/2)
      .text(d => { const w = x(d.v[1]) - x(d.v[0]); return w < 50 ? "" : d3.format(".1%")(d.v.data[d.key]); })
      .style("opacity", d => lockedRow && d.v.data.bmiCat !== lockedRow ? 0.2 : 1);
    texts.exit().remove();
  }

  // ====== LOAD DATA ======
  d3.csv(DATA_PATH, d3.autoType).then(data => {
    RAW = data; update();
  }).catch(err => { console.error(err); d3.select("#chart").append("div").text("Failed to load CSV."); });

  d3.select("#sleepMeasure").on("change", update);
  d3.select("#sexFilter").on("change", update);
  d3.select("#povFilter").on("change", update);
  d3.select("#resetLock").on("click", () => { lockedRow = null; update(); });
</script>
</body>
</html>
